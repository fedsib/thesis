% !TEX encoding = UTF-8
% !TEX TS-program = pdflatex
% !TEX root = ../tesi.tex

%**************************************************************
\pagestyle{IHA-fancy-style}
\chapter{Lo stage}
\label{cap:lo-stage}
%**************************************************************

\intro{In questo capitolo viene illustrato dettagliatamente il progetto di stage, riportandone la pianificazione iniziale, gli obiettivi da raggiungere, i vincoli ai quali era sottoposto e le motivazioni personali nella scelta.
Viene inoltre riportata un'analisi preventiva dei possibili rischi e viene esposto l'ambiente di lavoro. }\\

%**************************************************************
\section{Introduzione al progetto}
%**************************************************************

Riprendendo il contesto definito nella sezione ``{\hyperref[sec:idea]{1.3 - L'idea}}'', occorre definire in modo più approfondito e dettagliato la metodologia di sviluppo \textit{Devops}\cite{site:what-is-devops}; abbiamo visto come tale metodologia di sviluppo si focalizza sul rapido rilascio dei prodotti software e su un automazione spinta dei processi ripetibili. In tutto questo non vi è più una divisione netta e separata tra sviluppatori e l'ambito \textit{operations} ma viene instaurato un clima basato sulla collaborazione e sulla condivisione delle conoscenze. 

\begin{figure}[H]
    \capstart
    \centering
    \includegraphics[height=3cm, keepaspectratio]{../immagini/devopsbridge.png}
    \caption[\textit{Devops} come punto d'unione tra sviluppo e \textit{operations}]{\textit{Devops} come punto d'unione tra sviluppo e \textit{operations}, immagine tratta da \\ \url{https://intland.com/}}
\end{figure}

I processi di tale metodologia consistono nel:

\begin{itemize}
    \item Pianificare gli obiettivi da raggiungere e progettare le funzionalità da implementare nel prodotto software al fine che esso consegua tali obiettivi (\textit{Plan});
    \item Implementare effettivamente tali funzionalità (\textit{Code});
    \item Costruire le componenti software e i relativi artefatti (\textit{Build});
    \item Assicurarsi che le componenti software costruite siano conformi alle attese e ai bisogni (\textit{Test})
    \item Rilasciare il prodotto (\textit{Release});
    \item Rendere disponibile il prodotto a determinati usi (\textit{Deploy});
    \item Far si che il prodotto sia operativo, tramite opportune configurazioni (\textit{Operate});
    \item Monitorare le performance e lo stato del prodotto (\textit{Monitor}).
\end{itemize}

\begin{figure}[H]
    \capstart
    \centering
    \includegraphics[width=7cm, keepaspectratio]{../immagini/devops-process.png}
    \caption[I vari processi coinvolti all'interno della metodologia \textit{Devops}]{I vari processi coinvolti all'interno della metodologia \textit{Devops}, immagine tratta da \\ \url{https://www.01net.it/devops-monitoring/}}
\end{figure}

Nel concreto, tali processi vengono svolti tramite una serie di attività e strumenti, tra cui:

\begin{itemize}
    \item Sviluppo del codice tramite opportuni ambienti di sviluppo integrato (\gls{ide}) e versionamento del codice che risiederà in un \gls{repository};
    \item Strumenti di \gls{integrazione-continua} al fine di automatizzare il processo di \textit{\gls{build}} e il loro monitoraggio;
    \item Attività continue e automatizzate di \textit{testing} al fine di verificare le funzionalità del prodotto, e garantire che esso abbia le desiderate proprietà qualitative; 
    \item Attività automatizzate di \textit{packaging}, con un \gls{repository} per gli artefatti;
    \item Attività di gestione dei cambiamenti, approvazione dei rilasci e automazione degli stessi;
    \item Strumenti di configurazione dell'infrastruttura, vista anch'essa come codice (\textit{Infrastructure as Code})
    \item Strumenti e metriche di monitoraggio continuo della \textit{user experience} e delle prestazioni del prodotto software.
\end{itemize}

Le sfide che tale metodologia si trova ad affrontare sono molteplici, ad esempio:

\begin{itemize}
    \item \textbf{Difficoltà nel mantenere e rendere disponibile l'ambiente di produzione}. A tal fine, si fa ampio uso di tecnologie di virtualizzazione e containerizzazione in modo da simulare gli ambienti, soprattutto durante le fasi di test dei prodotti;
    \item \textbf{Gestione dell'infrastruttura difficilmente automatizzabile}. Opportuni strumenti di gestione della configurazione permettono di gestire in modo proattivo l'infrastruttura, vista come codice, tramite linguaggi di configurazione facilmente personalizzabili;
    \item \textbf{Difficoltà nel diagnosticare mancanze e ricevere feedback sul prodotto.} Grazie a strumenti dedicati, è possibile un monitoraggio efficace e continuo delle applicazioni.  
\end{itemize}

Uno dei punti cardine è rappresentato dall'\textit{\gls{integrazione-continua}}, cioè l'allineamento continuo degli ambienti di lavoro di più sviluppatori. \\
Nello specifico l'\gls{integrazione-continua} si basa su:

\begin{itemize}
    \item Versionamento del codice;
    \item Automatizzazione delle build e dei test;
    \item Esecuzione dei test eseguiti in un clone dell'ambiente di produzione;
    \item Gestione e recupero degli artefatti;
    \item Automatizzazione dei rilasci.
\end{itemize} 

Il \textit{\gls{continuous building}}, facilmente confondibile con l'attività di \gls{integrazione-continua}
rappresenta una parte cospicua ma non il tutto. Non si occupa ad esempio della configurazione dei \gls{repository} per il versionamento del codice sorgente, ma assume che siano già presenti. Così come non si occupa direttamente della gestione dell'infrastruttura \gls{cloud}.

\begin{figure}[H]
    \capstart
    \centering
    \includegraphics[width=12cm, keepaspectratio]{../immagini/cb.png}
    \caption[Integrazione Continua e \gls{continuous building}]{In rosso, la parte di \gls{continuous building}, all'interno dell'\gls{integrazione-continua}, immagine tratta da \\ \url{https://opsani.com/}}
\end{figure}
 
\subsection{Motivazioni aziendali}

IKS, con il progetto di stage proposto intende principalmente formare personale per l'attività di consulenza al fine di poter fornire ai propri clienti servizi in ambito \textit{Devops}, data la richiesta di mercato sempre maggiore. L'azienda inoltre intendeva valutare l'uso di \gls{container} al fine di ottimizzare l'uso delle risorse dei nodi fisici.

\subsection{Motivazioni personali}

Lo stage curricolare rappresenta la tappa finale del percorso di studi in Informatica presso l'\myUni. Tale attività costituisce un'interessante opportunità per mettere in contatto le realtà aziendali che necessitano di competenze specifiche, con studenti che si trovano ad approcciarsi al mondo del lavoro. A tal proposito ogni anno, tra marzo e aprile l'università, con il patrocinio di Confindustria Padova organizza un apposito evento denominato \textit{STAGE-IT}, per mettere in comunicazione aziende e studenti.\\

Durante \textit{STAGE-IT 2017} ho avuto modo di sostenere sedici colloqui preliminari con varie aziende; colloqui ai quali successivamente ne sono seguiti altri che mi hanno fornito una visione più chiara dei progetti proposti al fine di una scelta finale. Tra le varie proposte, ho stabilito dei criteri così riassunti: personali, professionali, economici e logistici.

\subsubsection{Motivazioni personali}

Le motivazioni personali rappresentano le tematiche di mio interesse, nello specifico cercavo uno stage con le seguenti caratteristiche:

\begin{itemize}
    \item \textbf{Forte orientamento all'open source}. L'uso di tecnologie open source e software libero è in costante crescita tra le aziende informatiche, inoltre avere a disposizione il codice sorgente delle applicazioni che si andranno ad utilizzare permette da una parte di capire il loro funzionamento e dall'altra di potere adattarle secondo i propri bisogni. 
    \item \textbf{Ambito innovativo}. Cercavo uno stage che mi permettesse di rapportarmi con i temi caldi attualmente presenti nel mercato dell'IT, quali ad esempio: \textit{\gls{machine-learning}}, \gls{iot}, \textit{Devops}, \gls{blockchain} o \gls{cloud}.
    \item \textbf{Ambito prevalentemente sistemistico}. Il nostro corso di studi si focalizza principalmente nell'ambito sviluppo, l'ambito sistemistico rappresentava una sfida e un'opportunità per integrare le mie conoscenze.
\end{itemize}

\subsubsection{Motivazioni professionali}

\begin{itemize}
    \item \textbf{Ambito innovativo}. Oltre all'interesse personale, approcciare tecnologie innovative penso permetta di avere più opportunità lavorative e di confrontarsi con sfide sempre nuove. 
\end{itemize}

\subsubsection{Motivazioni economiche e logistiche}

Alle motivazioni economiche e logistiche, ho preferito anteporre quelle personali e professionali. 

\begin{itemize}
    \item \textbf{Luogo di lavoro}. Sicuramente uno stage vicino casa sarebbe stato comodo ma non mi avrebbe permesso di crescere. La zona industriale di Padova, parecchio lontana sia fisicamente che idealmente alla mia ``comfort-zone'' mi ha sicuramente aiutato in questo.
    \item \textbf{Logistica - Trasporti}. Idealmente avrei voluto minimizzare il tempo di trasporto viaggiando in auto, ma questo non è stato possibile. Il dover coordinare diverse tipologie di trasporto mi ha comunque permesso di migliorare le mie doti organizzative e gestionali. 
    \item \textbf{Rimborsi}. Cercavo un'azienda che fornisse un minimo di rimborso spese. IKS in questo senso ha messo a disposizione dei buoni pasto a parziale copertura delle spese di ristorazione.
\end{itemize}

%**************************************************************
\section{Vincoli}
%**************************************************************
\subsection{Vincoli metodologici}

All'inizio del progetto di stage è stato concordato con il tutor aziendale un piano di lavoro di massima, comprendente la pianificazione dello stage da svolgersi prevalentemente presso la sede dell'azienda ospitante in Corso Stati Uniti 14 bis a Padova.

Regolarmente, (circa una volta la settimana) si sono tenuti incontri diretti con il tutor aziendale  per verificare lo stato di avanzamento del progetto, ridefinire gli obiettivi, affinare
la ricerca e aggiornare il piano stesso di lavoro; il tutor aziendale ha inoltre richiesto un breve report giornaliero delle attività svolte da inviare via mail in modo da essere costantemente aggiornato sul procedere del lavoro e poter tempestivamente chiarire dubbi e fornire chiarimenti.

\subsection{Vincoli temporali}
Lo stage curricolare, all'interno del corso di informatica si deve svolgere in un margine di ore compreso tra le 300 e le 320 ore presso l'azienda ospitante. Il progetto che ho svolto presso IKS ha avuto una durata di 304 ore circa, più alcune ore dedicate da remoto per la stesura di documentazione tecnica. \\

La pianificazione iniziale è stata seguita in linea di massima, ma con l'emergere di altre priorità come lo studio dei protocolli di comunicazione tra \gls{master} e \gls{slave}, inizialmente non previste dal piano di lavoro ha sottratto tempo ad altre attività come lo sviluppo di un \gls{plugin} base da usare come modello di sviluppo.

\subsection{Vincoli tecnologici}

Gli unici vincoli tecnologici imposti dall'azienda circa la piattaforma di \gls{continuous building} da implementare riguardavano il sistema operativo da utilizzare, \gls{CentOS} 7, Jenkins come fulcro centrale del progetto al fine di automatizzare i processi di \gls{build} e Docker come standard ``de-facto'' nelle tecnologie di containerizzazione.

%**************************************************************
\section{Obiettivi}
%**************************************************************
\label{sec:ob}

Vengono qui riportati gli obiettivi iniziali dello stage, in forma tabellare.

Ogni obiettivo è descritto da tre attributi:

\begin{itemize}
    \item \textbf{ID}. Un codice identificativo univoco, al fine di tracciare l'obiettivo. Esso è determinato da una lettera indicante la priorità (O, D o F) seguita da un numero progressivo a due cifre.
    \item \textbf{Priorità}. L'importanza attribuita all'obiettivo. Essa può essere:
    \begin{itemize}
        \item \textbf{Obbligatorio}. Obiettivi vincolanti in quanto esplicitamente indicati come primari dall'azienda proponente; 
        \item \textbf{Desiderabile}. Obiettivi non vincolanti o strettamente necessari, ma dal riconoscibile valore
        aggiunto;
        \item \textbf{Facoltativo}. Obiettivi rappresentanti valore aggiunto non strettamente competitivo, giudicati dall'azienda come opzionali.
    \end{itemize} 
    \item \textbf{Descrizione}. Una breve descrizione riepilogativa dell'obiettivo. 
\end{itemize}

\input{./tabelle/obiettiviIniziali.tex}

In sezione {\hyperref[sec:obiettivi-raggiunti]{``7.1 - Raggiungimento degli obiettivi''}} viene fornito un riepilogo in forma tabellare di tali obiettivi, indicando per ciascuno di essi il grado di soddisfacimento.

%**************************************************************
\section{Pianificazione}
%**************************************************************

In {\hyperref[tab:initial-plan]{tabella 2.2} viene riportata la pianificazione delle attività, con la relativa suddivisione oraria.

\input{./tabelle/pianificazione-iniziale.tex}

\newpage

%**************************************************************
\section{Ambiente di Lavoro}
%**************************************************************

\subsection{Metodologia di sviluppo}

IKS adotta la metodologia di sviluppo \gls{agile}, tuttavia, per questo progetto dove la parte di sviluppo è poco prevalente, si è scelto di adottare \gls{cbse}, cioè un processo di sviluppo basato sul riuso di componenti software già esistenti e sulla loro integrazione. \\ 
Visto che le componenti software sono già esistenti, non è detto che esse rispecchino pienamente le funzionalità necessarie al prodotto finale; occorrerà quindi una loro attenta selezione in relazione ai requisiti del prodotto finale e dei bisogni degli \gls{stakeholder}, con i quali andrà instaurato uno stretto rapporto.

\begin{figure}[H]
    \capstart
    \captionsetup{justification=centering}
    \centering
    \includegraphics[width=12cm, keepaspectratio]{../immagini/CBSE.jpg}
    \caption[Rappresentazione della metodologia CBSE]{Rappresentazione della metodologia CBSE, immagine tratta da \url{http://www.federica.unina.it/ingegneria/ingegneria-software-ii/component-based-software-engineering-sviluppo-cbse/}}
\end{figure}

Il modello a componenti, favorisce la separazione delle responsabilità secondo il \textit{\gls{srp}} e permette di ottenere un basso accoppiamento tra le componenti e il sistema principale.

Jenkins, con la sua architettura a \gls{plugin} ben si presta ad una composizione gerarchica, dove il servizio principale invoca direttamente quelli esposti dai singoli \gls{plugin} che ne estendono le funzionalità.

\subsection{Gestione di progetto}

\subsubsection{Versionamento}
Inizialmente da quanto preventivato, per il versionamento del codice sorgente di alcune applicazioni Maven d'esempio\cite{site:maven-getiting-started-guide} non è stato possibile utilizzare \textit{git}. L'azienda ha però fornito un \gls{repository} \gls{cvs}\footnote{\url{https://savannah.nongnu.org/project/memberlist.php?detailed=1&group=cvs}} che è stato utilizzato principalmente per lo storage e il versionamento di applicazioni Maven e dei \textit{Dockerfile} creati. \\

\gls{cvs} è un sistema di versionamento del codice piuttosto vetusto (non presenta nuove versioni dal 2008) ma essendo uno tra i primi strumenti di versionamento, tra l'altro costituito da software libero, è ancora parecchio usato. \\
Non avendo mai approfondito in dettaglio tale strumento, mi sono avvalso di un client grafico, smartCVS\footnote{\url{https://www.syntevo.com/smartcvs/}}.

\subsection{Documentazione}
La documentazione tecnica è stata redatta utilizzando \textit{Libreoffice 5.4.2}, lo strumento, pur essendo open source non si è rivelato pienamente adatto allo scopo, in quanto non permette una standardizzazione della documentazione (anche se è possibile definire dei template) e della formattazione. \LaTeX\ probabilmente avrebbe rappresentato un'alternativa migliore, in quanto codice pienamente versionabile ma sarebbe di difficile adozione all'interno di un team, in quanto tutti dovrebbero conoscere tale linguaggio. 

\subsection{Ambiente di sviluppo}
Per la piccola parte di sviluppo e personalizzazione di script Groovy si è utilizzato Visual Studio Code. \\
Visual Studio Code\footnote{\url{https://code.visualstudio.com/}}, è un editor open source sviluppato da Microsoft, basato su \textit{Electron}, un framework javascript che permette lo sviluppo di applicazioni desktop.
La caratteristica chiave di Visual Studio Code consiste in un'ampia gamma di \gls{plugin} ed estensioni, che lo rendono un editor versatile e facilmente adattabile a varie esigenze. Esso inoltre risulta configurabile in modo preciso e dettagliato tramite \gls{json}. 

\begin{figure}[H]
    \capstart
    \centering
    \includegraphics[height=3cm, keepaspectratio]{../immagini/VSCode.png}
    \caption{Logo di Visual Studio code}
\end{figure}

\subsection{Infrastruttura di test}

IKS ha messo a disposizione una macchina virtuale \gls{Linux} la quale è stata utilizzata come postazione di laboratorio al fine di effettuare vari test funzionali e prove di configurazione.

%**************************************************************
\section{Analisi preventiva dei rischi}
%**************************************************************
In tabella {\hyperref[tab:rischi]{``2.2 - Analisi dei rischi''}} viene riportata l'analisi dei rischi che ho dovuto affrontare nel corso del progetto. Per ogni rischio viene definito:

\begin{itemize}
    \item Un nome;
    \item Una breve descrizione;
    \item La modalità di rilevamento;
    \item La probabilità di occorrenza;
    \item Il grado di pericolosità;
    \item Il piano di contingenza.
\end{itemize}

\input{./tabelle/analisi-rischi-tab.tex}

In {\hyperref[tab:rischi-final]{tabella 7.3}} è riportato un'attualizzazione dei rischi verificatisi assieme alle misure adottate per la loro risoluzione.